query getEras($language_code: String) {
  chronologyEras {
    data {
      id
      attributes {
        slug
        starting_year
        ending_year
        title(filters: { language: { code: { eq: $language_code } } }) {
          title
        }
      }
    }
  }
}

query getChronologyItems($language_code: String) {
  chronologyItems(
    pagination: { limit: -1 }
    sort: ["year:asc", "month:asc", "day:asc"]
  ) {
    data {
      id
      attributes {
        year
        month
        day
        displayed_date
        events {
          id
          source {
            data {
              attributes {
                name
              }
            }
          }
          translations(
            filters: { language: { code: { eq: $language_code } } }
          ) {
            title
            description
            note
            status
          }
        }
      }
    }
  }
}

query getLibraryItemsPreview($language_code: String) {
  libraryItems(
    filters: { root_item: { eq: true } }
    pagination: { limit: -1 }
    sort: ["slug:asc"]
  ) {
    data {
      id
      attributes {
        title
        subtitle
        slug
        thumbnail {
          data {
            attributes {
              name
              alternativeText
              caption
              width
              height
              url
            }
          }
        }
        release_date {
          year
          month
          day
        }
        price {
          amount
          currency {
            data {
              attributes {
                symbol
                code
              }
            }
          }
        }
        size {
          width
          height
          thickness
        }
        descriptions(filters: { language: { code: { eq: $language_code } } }) {
          description
        }
      }
    }
  }
}

query getLibraryItemsSlugs {
  libraryItems(
    pagination: { limit: -1 }
  ) {
    data {
      attributes {
        slug
      }
    }
  }
}


query getLibraryItem($slug: String, $language_code: String) {
  libraryItems(filters: { slug: { eq: $slug } }) {
    data {
      id
      attributes {
        title
        subtitle
        slug
        thumbnail {
          data {
            attributes {
              name
              alternativeText
              caption
              width
              height
              url
            }
          }
        }
        release_date {
          year
          month
          day
        }
        price {
          amount
          currency {
            data {
              attributes {
                symbol
                code
              }
            }
          }
        }
        size {
          width
          height
          thickness
        }
        descriptions(filters: { language: { code: { eq: $language_code } } }) {
          description
        }
        metadata {
          __typename
          ... on ComponentMetadataBooks {
            subtype {
              data {
                attributes {
                  slug
                }
              }
            }
            binding_type
            page_count
            page_order
            languages {
              data {
                attributes {
                  code
                  name
                }
              }
            }
          }
          ... on ComponentMetadataVideo {
            resolution
            audio_languages {
              data {
                attributes {
                  code
                  name
                }
              }
            }
          }
          ... on ComponentMetadataGame {
            platform {
              data {
                attributes {
                  short
                }
              }
            }
            audio_languages {
              data {
                attributes {
                  code
                  name
                }
              }
            }
            sub_languages {
              data {
                attributes {
                  code
                  name
                }
              }
            }
            interface_languages {
              data {
                attributes {
                  code
                  name
                }
              }
            }
          }
          ... on ComponentMetadataAudio {
            subtype {
              data {
                attributes {
                  slug
                }
              }
            }
            languages {
              data {
                attributes {
                  code
                  name
                }
              }
            }
          }
        }
        subitem_of {
          data {
            id
            attributes {
              title
              subtitle
              slug
            }
          }
        }
        subitems {
          data {
            id
            attributes {
              slug
              title
              subtitle
              thumbnail {
                data {
                  attributes {
                    name
                    alternativeText
                    caption
                    width
                    height
                    url
                  }
                }
              }
            }
          }
        }
        contents {
          data {
            id
            attributes {
              slug
              title(filters: { language: { code: { eq: $language_code } } }) {
                title
              }
              type {
                data {
                  attributes {
                    slug
                  }
                }
              }
              categories {
                data {
                  attributes {
                    name
                    short
                  }
                }
              }
              range {
                __typename
                ... on ComponentRangePageRange {
                  starting_page
                  ending_page
                }
                ... on ComponentRangeTimeRange {
                  starting_time
                  ending_time
                }
              }
            }
          }
        }
      }
    }
  }
}
